"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkworkspace_client"] = self["webpackChunkworkspace_client"] || []).push([["public_assets_js_modules_agenda_AgendaStore_js"],{

/***/ "./public/assets/js/modules/agenda/AgendaStore.js":
/*!********************************************************!*\
  !*** ./public/assets/js/modules/agenda/AgendaStore.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * AgendaStore.js\n * Gestion du stockage des événements\n * Support localStorage (démo) et API BDD\n */\n\nclass AgendaStore {\n    constructor(options = {}) {\n        this.storageKey = 'workspace_events';\n        this.serverUrl = options.serverUrl || 'http://localhost:8060';\n        this.apiUrl = `${this.serverUrl}/api/agenda`;\n        this.useApi = true; // Utiliser l'API serveur\n        this.initializeStore();\n    }\n\n    /**\n     * Initialiser le store avec des données de démo si vide\n     */\n    initializeStore() {\n        const stored = localStorage.getItem(this.storageKey);\n        if (!stored && !this.useApi) {\n            this.initializeDemoData();\n        }\n    }\n\n    /**\n     * Initialiser avec des données de démo\n     */\n    initializeDemoData() {\n        const today = new Date();\n        const demoEvents = [\n            {\n                id: '1',\n                title: 'Réunion d\\'équipe',\n                start: `${this.formatDate(today)}T09:00:00`,\n                end: `${this.formatDate(today)}T10:00:00`,\n                color: '#3788d8',\n                description: 'Réunion hebdomadaire avec l\\'équipe'\n            },\n            {\n                id: '2',\n                title: 'Déjeuner client',\n                start: `${this.formatDate(today)}T12:00:00`,\n                end: `${this.formatDate(today)}T13:30:00`,\n                color: '#43c466',\n                description: 'Déjeuner avec le client ABC'\n            },\n            {\n                id: '3',\n                title: 'Deadline projet',\n                start: `${this.addDays(today, 3)}T17:00:00`,\n                end: `${this.addDays(today, 3)}T17:00:00`,\n                color: '#fdb544',\n                description: 'Remise du projet à la date limite'\n            },\n            {\n                id: '4',\n                title: 'Conférence',\n                start: `${this.addDays(today, 5)}T14:00:00`,\n                end: `${this.addDays(today, 5)}T16:00:00`,\n                color: '#3788d8',\n                description: 'Conférence sur les nouvelles technologies'\n            }\n        ];\n        this.saveEvents(demoEvents);\n    }\n\n    /**\n     * Récupérer tous les événements\n     */\n    async getAllEvents() {\n        if (this.useApi) {\n            try {\n                const response = await fetch(`${this.apiUrl}/events?start=1900-01-01&end=2100-12-31`);\n                const data = await response.json();\n                return data.success ? data.data : [];\n            } catch (error) {\n                console.error('❌ Erreur récupération API:', error);\n                return [];\n            }\n        }\n        \n        const stored = localStorage.getItem(this.storageKey);\n        return stored ? JSON.parse(stored) : [];\n    }\n\n    /**\n     * Récupérer les événements dans une plage de dates\n     */\n    async getEventsByRange(startDate, endDate) {\n        if (this.useApi) {\n            try {\n                const response = await fetch(\n                    `${this.apiUrl}/events?start=${startDate}&end=${endDate}`\n                );\n                const data = await response.json();\n                return data.success ? data.data : [];\n            } catch (error) {\n                console.error('❌ Erreur récupération API:', error);\n                return [];\n            }\n        }\n\n        const all = await this.getAllEvents();\n        return all.filter(event => {\n            const eventStart = new Date(event.start);\n            const start = new Date(startDate);\n            const end = new Date(endDate);\n            return eventStart >= start && eventStart <= end;\n        });\n    }\n\n    /**\n     * Ajouter un événement\n     */\n    async addEvent(event) {\n        if (this.useApi) {\n            try {\n                const response = await fetch(`${this.apiUrl}/events`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(event)\n                });\n                const data = await response.json();\n                if (data.success) {\n                    return data.data;\n                } else {\n                    throw new Error(data.message);\n                }\n            } catch (error) {\n                console.error('❌ Erreur création API:', error);\n                throw error;\n            }\n        }\n\n        const events = await this.getAllEvents();\n        const newEvent = {\n            id: Date.now().toString(),\n            ...event,\n            createdAt: new Date().toISOString()\n        };\n        events.push(newEvent);\n        this.saveEvents(events);\n        return newEvent;\n    }\n\n    /**\n     * Mettre à jour un événement\n     */\n    async updateEvent(id, updates) {\n        if (this.useApi) {\n            try {\n                const response = await fetch(`${this.apiUrl}/events/${id}`, {\n                    method: 'PUT',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(updates)\n                });\n                const data = await response.json();\n                if (data.success) {\n                    return data.data;\n                } else {\n                    throw new Error(data.message);\n                }\n            } catch (error) {\n                console.error('❌ Erreur modification API:', error);\n                throw error;\n            }\n        }\n\n        const events = await this.getAllEvents();\n        const eventIndex = events.findIndex(e => e.id === id);\n        if (eventIndex !== -1) {\n            events[eventIndex] = {\n                ...events[eventIndex],\n                ...updates,\n                updatedAt: new Date().toISOString()\n            };\n            this.saveEvents(events);\n            return events[eventIndex];\n        }\n        return null;\n    }\n\n    /**\n     * Supprimer un événement\n     */\n    async deleteEvent(id) {\n        if (this.useApi) {\n            try {\n                const response = await fetch(`${this.apiUrl}/events/${id}`, {\n                    method: 'DELETE'\n                });\n                const data = await response.json();\n                if (data.success) {\n                    return true;\n                } else {\n                    throw new Error(data.message);\n                }\n            } catch (error) {\n                console.error('❌ Erreur suppression API:', error);\n                throw error;\n            }\n        }\n\n        const events = await this.getAllEvents();\n        const filtered = events.filter(e => e.id !== id);\n        this.saveEvents(filtered);\n        return filtered.length < events.length;\n    }\n\n    /**\n     * Sauvegarder tous les événements (localStorage seulement)\n     */\n    saveEvents(events) {\n        localStorage.setItem(this.storageKey, JSON.stringify(events));\n    }\n\n    /**\n     * Formater une date en YYYY-MM-DD\n     */\n    formatDate(date) {\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        return `${year}-${month}-${day}`;\n    }\n\n    /**\n     * Ajouter des jours à une date\n     */\n    addDays(date, days) {\n        const result = new Date(date);\n        result.setDate(result.getDate() + days);\n        return this.formatDate(result);\n    }\n\n    /**\n     * Exporter les données (pour migration BDD future)\n     */\n    async exportData() {\n        return {\n            version: '1.0',\n            exportedAt: new Date().toISOString(),\n            events: await this.getAllEvents()\n        };\n    }\n\n    /**\n     * Importer les données (pour restauration depuis BDD)\n     */\n    importData(data) {\n        if (data.events && Array.isArray(data.events)) {\n            this.saveEvents(data.events);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Réinitialiser complètement le store\n     */\n    resetStore() {\n        localStorage.removeItem(this.storageKey);\n        this.initializeDemoData();\n    }\n\n    /**\n     * Basculer vers API\n     */\n    switchToApi(shouldUse = true) {\n        this.useApi = shouldUse;\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new AgendaStore());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXNzZXRzL2pzL21vZHVsZXMvYWdlbmRhL0FnZW5kYVN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4Qyw0QkFBNEI7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRCx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRCx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRCx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRCx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsWUFBWTtBQUM1RDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsWUFBWSxnQkFBZ0IsVUFBVSxPQUFPLFFBQVE7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsWUFBWTtBQUM1RDtBQUNBLCtCQUErQixvQ0FBb0M7QUFDbkU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFlBQVksVUFBVSxHQUFHO0FBQ3pFO0FBQ0EsK0JBQStCLG9DQUFvQztBQUNuRTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsWUFBWSxVQUFVLEdBQUc7QUFDekU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsS0FBSyxHQUFHLE1BQU0sR0FBRyxJQUFJO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b3Jrc3BhY2UtY2xpZW50Ly4vcHVibGljL2Fzc2V0cy9qcy9tb2R1bGVzL2FnZW5kYS9BZ2VuZGFTdG9yZS5qcz8zZjE3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWdlbmRhU3RvcmUuanNcbiAqIEdlc3Rpb24gZHUgc3RvY2thZ2UgZGVzIMOpdsOpbmVtZW50c1xuICogU3VwcG9ydCBsb2NhbFN0b3JhZ2UgKGTDqW1vKSBldCBBUEkgQkREXG4gKi9cblxuY2xhc3MgQWdlbmRhU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2VLZXkgPSAnd29ya3NwYWNlX2V2ZW50cyc7XG4gICAgICAgIHRoaXMuc2VydmVyVXJsID0gb3B0aW9ucy5zZXJ2ZXJVcmwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA2MCc7XG4gICAgICAgIHRoaXMuYXBpVXJsID0gYCR7dGhpcy5zZXJ2ZXJVcmx9L2FwaS9hZ2VuZGFgO1xuICAgICAgICB0aGlzLnVzZUFwaSA9IHRydWU7IC8vIFV0aWxpc2VyIGwnQVBJIHNlcnZldXJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU3RvcmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlciBsZSBzdG9yZSBhdmVjIGRlcyBkb25uw6llcyBkZSBkw6ltbyBzaSB2aWRlXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZVN0b3JlKCkge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICBpZiAoIXN0b3JlZCAmJiAhdGhpcy51c2VBcGkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURlbW9EYXRhKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlciBhdmVjIGRlcyBkb25uw6llcyBkZSBkw6ltb1xuICAgICAqL1xuICAgIGluaXRpYWxpemVEZW1vRGF0YSgpIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBkZW1vRXZlbnRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdSw6l1bmlvbiBkXFwnw6lxdWlwZScsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGAke3RoaXMuZm9ybWF0RGF0ZSh0b2RheSl9VDA5OjAwOjAwYCxcbiAgICAgICAgICAgICAgICBlbmQ6IGAke3RoaXMuZm9ybWF0RGF0ZSh0b2RheSl9VDEwOjAwOjAwYCxcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMzNzg4ZDgnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUsOpdW5pb24gaGViZG9tYWRhaXJlIGF2ZWMgbFxcJ8OpcXVpcGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnMicsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdEw6lqZXVuZXIgY2xpZW50JyxcbiAgICAgICAgICAgICAgICBzdGFydDogYCR7dGhpcy5mb3JtYXREYXRlKHRvZGF5KX1UMTI6MDA6MDBgLFxuICAgICAgICAgICAgICAgIGVuZDogYCR7dGhpcy5mb3JtYXREYXRlKHRvZGF5KX1UMTM6MzA6MDBgLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzQzYzQ2NicsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdEw6lqZXVuZXIgYXZlYyBsZSBjbGllbnQgQUJDJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJzMnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnRGVhZGxpbmUgcHJvamV0JyxcbiAgICAgICAgICAgICAgICBzdGFydDogYCR7dGhpcy5hZGREYXlzKHRvZGF5LCAzKX1UMTc6MDA6MDBgLFxuICAgICAgICAgICAgICAgIGVuZDogYCR7dGhpcy5hZGREYXlzKHRvZGF5LCAzKX1UMTc6MDA6MDBgLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZkYjU0NCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdSZW1pc2UgZHUgcHJvamV0IMOgIGxhIGRhdGUgbGltaXRlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJzQnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29uZsOpcmVuY2UnLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBgJHt0aGlzLmFkZERheXModG9kYXksIDUpfVQxNDowMDowMGAsXG4gICAgICAgICAgICAgICAgZW5kOiBgJHt0aGlzLmFkZERheXModG9kYXksIDUpfVQxNjowMDowMGAsXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMzc4OGQ4JyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbmbDqXJlbmNlIHN1ciBsZXMgbm91dmVsbGVzIHRlY2hub2xvZ2llcydcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5zYXZlRXZlbnRzKGRlbW9FdmVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFLDqWN1cMOpcmVyIHRvdXMgbGVzIMOpdsOpbmVtZW50c1xuICAgICAqL1xuICAgIGFzeW5jIGdldEFsbEV2ZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlQXBpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlVcmx9L2V2ZW50cz9zdGFydD0xOTAwLTAxLTAxJmVuZD0yMTAwLTEyLTMxYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5zdWNjZXNzID8gZGF0YS5kYXRhIDogW107XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgcsOpY3Vww6lyYXRpb24gQVBJOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgIHJldHVybiBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSw6ljdXDDqXJlciBsZXMgw6l2w6luZW1lbnRzIGRhbnMgdW5lIHBsYWdlIGRlIGRhdGVzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RXZlbnRzQnlSYW5nZShzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlQXBpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgIGAke3RoaXMuYXBpVXJsfS9ldmVudHM/c3RhcnQ9JHtzdGFydERhdGV9JmVuZD0ke2VuZERhdGV9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5zdWNjZXNzID8gZGF0YS5kYXRhIDogW107XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgcsOpY3Vww6lyYXRpb24gQVBJOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbGwgPSBhd2FpdCB0aGlzLmdldEFsbEV2ZW50cygpO1xuICAgICAgICByZXR1cm4gYWxsLmZpbHRlcihldmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudFN0YXJ0ID0gbmV3IERhdGUoZXZlbnQuc3RhcnQpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoZW5kRGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnRTdGFydCA+PSBzdGFydCAmJiBldmVudFN0YXJ0IDw9IGVuZDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWpvdXRlciB1biDDqXbDqW5lbWVudFxuICAgICAqL1xuICAgIGFzeW5jIGFkZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnVzZUFwaSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYXBpVXJsfS9ldmVudHNgLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZXZlbnQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyZXVyIGNyw6lhdGlvbiBBUEk6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgdGhpcy5nZXRBbGxFdmVudHMoKTtcbiAgICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgICBldmVudHMucHVzaChuZXdFdmVudCk7XG4gICAgICAgIHRoaXMuc2F2ZUV2ZW50cyhldmVudHMpO1xuICAgICAgICByZXR1cm4gbmV3RXZlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0dHJlIMOgIGpvdXIgdW4gw6l2w6luZW1lbnRcbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVFdmVudChpZCwgdXBkYXRlcykge1xuICAgICAgICBpZiAodGhpcy51c2VBcGkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaVVybH0vZXZlbnRzLyR7aWR9YCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgbW9kaWZpY2F0aW9uIEFQSTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudHMgPSBhd2FpdCB0aGlzLmdldEFsbEV2ZW50cygpO1xuICAgICAgICBjb25zdCBldmVudEluZGV4ID0gZXZlbnRzLmZpbmRJbmRleChlID0+IGUuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKGV2ZW50SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudHNbZXZlbnRJbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgLi4uZXZlbnRzW2V2ZW50SW5kZXhdLFxuICAgICAgICAgICAgICAgIC4uLnVwZGF0ZXMsXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNhdmVFdmVudHMoZXZlbnRzKTtcbiAgICAgICAgICAgIHJldHVybiBldmVudHNbZXZlbnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3VwcHJpbWVyIHVuIMOpdsOpbmVtZW50XG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlRXZlbnQoaWQpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlQXBpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlVcmx9L2V2ZW50cy8ke2lkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgc3VwcHJlc3Npb24gQVBJOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGF3YWl0IHRoaXMuZ2V0QWxsRXZlbnRzKCk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0gZXZlbnRzLmZpbHRlcihlID0+IGUuaWQgIT09IGlkKTtcbiAgICAgICAgdGhpcy5zYXZlRXZlbnRzKGZpbHRlcmVkKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkLmxlbmd0aCA8IGV2ZW50cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F1dmVnYXJkZXIgdG91cyBsZXMgw6l2w6luZW1lbnRzIChsb2NhbFN0b3JhZ2Ugc2V1bGVtZW50KVxuICAgICAqL1xuICAgIHNhdmVFdmVudHMoZXZlbnRzKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoZXZlbnRzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0ZXIgdW5lIGRhdGUgZW4gWVlZWS1NTS1ERFxuICAgICAqL1xuICAgIGZvcm1hdERhdGUoZGF0ZSkge1xuICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFqb3V0ZXIgZGVzIGpvdXJzIMOgIHVuZSBkYXRlXG4gICAgICovXG4gICAgYWRkRGF5cyhkYXRlLCBkYXlzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICByZXN1bHQuc2V0RGF0ZShyZXN1bHQuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdERhdGUocmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBvcnRlciBsZXMgZG9ubsOpZXMgKHBvdXIgbWlncmF0aW9uIEJERCBmdXR1cmUpXG4gICAgICovXG4gICAgYXN5bmMgZXhwb3J0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246ICcxLjAnLFxuICAgICAgICAgICAgZXhwb3J0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgZXZlbnRzOiBhd2FpdCB0aGlzLmdldEFsbEV2ZW50cygpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wb3J0ZXIgbGVzIGRvbm7DqWVzIChwb3VyIHJlc3RhdXJhdGlvbiBkZXB1aXMgQkREKVxuICAgICAqL1xuICAgIGltcG9ydERhdGEoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5ldmVudHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmV2ZW50cykpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUV2ZW50cyhkYXRhLmV2ZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUsOpaW5pdGlhbGlzZXIgY29tcGzDqHRlbWVudCBsZSBzdG9yZVxuICAgICAqL1xuICAgIHJlc2V0U3RvcmUoKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZURlbW9EYXRhKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFzY3VsZXIgdmVycyBBUElcbiAgICAgKi9cbiAgICBzd2l0Y2hUb0FwaShzaG91bGRVc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudXNlQXBpID0gc2hvdWxkVXNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEFnZW5kYVN0b3JlKCk7XG5cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/assets/js/modules/agenda/AgendaStore.js\n\n}");

/***/ })

}]);