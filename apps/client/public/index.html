<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/global.css">
    <!-- Font Awesome Icons (Local - Electron Compatible) -->
    <link rel="stylesheet" href="./assets/css/fontawesome-local.css">
    <title>Workspace By Sandersonn</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data: https:; connect-src 'self' http: https: ws: wss:;">
</head>

<body>
    <!-- HEADER -->
    <header id="header"></header>

    <!-- AUTH MODAL -->
    <div id="authModalContainer"></div>

    <!-- CONTENU PRINCIPAL (où les pages se chargeront) -->
    <main id="content">
        <!-- Les pages HTML s'afficheront ici -->
    </main>

    <!-- FOOTER -->
    <footer id="footer"></footer>

    <!-- CHAT WIDGET (Floating button + panel) -->
    <div class="chat-widget-wrapper" id="chat-widget-wrapper">
        <!-- Floating button -->
        <button class="chat-widget-btn" id="chat-widget-btn" title="Ouvrir le chat">
            <i class="fas fa-comments"></i>
            <div class="notification-badge" id="chat-notification-badge">0</div>
        </button>

        <!-- Chat Panel (initially hidden) -->
        <div class="chat-widget-panel" id="chat-widget-panel">
            <!-- Header -->
            <div class="chat-widget-header">
                <h2><i class="fas fa-comments"></i> Chat</h2>
                <button class="chat-widget-close" id="chat-widget-close" title="Fermer le chat">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Chat Content -->
            <div class="chat-widget-content">
                <!-- Pseudo display area -->
                <div class="chat-widget-pseudo-area" id="chat-widget-pseudo-area">
                    <div id="chat-widget-pseudo-display"></div>
                </div>

                <!-- Messages area -->
                <div id="chat-widget-messages" class="chat-widget-empty">
                    Aucun message pour le moment
                </div>

                <!-- Input area -->
                <div class="chat-widget-input-area">
                    <input 
                        type="text" 
                        id="chat-widget-input" 
                        placeholder="Votre message..."
                        maxlength="500"
                    />
                    <div class="chat-widget-actions">
                        <button id="chat-widget-send" title="Envoyer (Entrée)">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPT PRINCIPAL -->
    <script type="module" src="./assets/js/global.js"></script>
    <script src="./app.js"></script>
</body>