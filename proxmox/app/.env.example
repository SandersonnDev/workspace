# ============================================
# Proxmox Backend — Environment Configuration
# ============================================

# Application
NODE_ENV=production
API_PORT=4000
DEBUG_MODE=false
LOG_LEVEL=info

# Security
JWT_SECRET=change-me-in-production-generate-random-string
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Database (PostgreSQL)
# In Docker: host=db (service name)
# Locally: host=localhost
DB_HOST=db
DB_PORT=5432
DB_NAME=workspace
DB_USER=workspace
DB_PASSWORD=devpass
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# Server Info
SERVER_IP=0.0.0.0
SERVER_HOST=localhost
NODE_PORT=3000
WS_PORT=4000

# Performance
CACHE_MAX_SIZE=1000
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=15

# Email (réception — envoi PDF par mail)
# Adresse « De » utilisée pour l’envoi (MAIL_FROM ou SMTP_FROM)
MAIL_FROM=noreply@votredomaine.com
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
# SMTP_FROM peut remplacer MAIL_FROM si déjà utilisé

# Optional: External Services
# SLACK_WEBHOOK_URL=https://hooks.slack.com/...
# SENTRY_DSN=https://...

# ============================================
# SETUP INSTRUCTIONS
# ============================================
#
# 1. Generate a secure JWT_SECRET:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 2. Set production database password:
#    Use a strong, random password
#
# 3. Configure CORS origins:
#    List all domains that will access this API
#    Separate multiple origins with commas
#
# 4. For Docker deployment:
#    - DB_HOST should be "db" (Docker service name)
#    - Set DB_PASSWORD to a secure value
#    - Set JWT_SECRET to a generated random string
#
# 5. For local development:
#    - DB_HOST="localhost"
#    - NODE_ENV="development"
#    - DEBUG_MODE="true" (optional)
#